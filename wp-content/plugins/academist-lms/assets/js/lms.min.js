!function(o){"use strict";var e={};function t(){var e,l,s,t,a;e=o(".eltdf-element-link-open"),l=o(".eltdf-course-popup"),s=o(".eltdf-popup-content"),e.length&&e.each(function(){var a=o(this);a.on("click",function(e){e.preventDefault(),l.hasClass("eltdf-course-popup-opened")||(l.addClass("eltdf-course-popup-opened"),eltdf.modules.common.eltdfDisableScroll());var t=0;void 0!==a.data("course-id")&&!1!==a.data("course-id")&&(t=a.data("course-id")),i(a.data("item-id"),t,s)})}),t=o(".eltdf-course-popup-close"),a=o(".eltdf-course-popup"),t.length&&t.on("click",function(e){e.preventDefault(),a.removeClass("eltdf-course-popup-opened"),location.reload()}),d(),o(".eltdf-lms-retake-course-form").on("submit",function(e){e.preventDefault();var t=o(this),a=t.serialize(),l={action:"academist_lms_retake_course",post:a};o.ajax({type:"POST",data:l,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t=JSON.parse(e);"success"===t.status&&(alert(t.message),location.reload())}})}),r()}function i(e,t,s){var n=s.prevAll(".eltdf-course-item-preloader");n.removeClass("eltdf-hide");var a={action:"academist_lms_load_element_item",item_id:e,course_id:t};o.ajax({type:"POST",data:a,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t,l,a=JSON.parse(e);"success"===a.status?(s.html(a.data.html),t=o(".eltdf-course-popup-navigation .eltdf-element-link-open"),l=o(".eltdf-popup-content"),t.length&&t.each(function(){var a=o(this);a.on("click",function(e){e.preventDefault();var t=0;void 0!==a.data("course-id")&&!1!==a.data("course-id")&&(t=a.data("course-id")),i(a.data("item-id"),t,l)})}),d(),r(),eltdf.modules.quiz.eltdfStartQuiz(),n.addClass("eltdf-hide"),function(){var e=o(".eltdf-course-popup"),t=o(".eltdf-popup-content"),a=o(".eltdf-course-popup-inner"),l=o(".eltdf-popup-heading"),s=o(".eltdf-course-popup-items"),n=o(".eltdf-popup-info-wrapper"),i=o(".eltdf-lms-search-holder");if(1024<eltdf.windowWidth)t.length&&(t.height(e.height()-l.outerHeight()),eltdf.modules.common.eltdfInitPerfectScrollbar().init(t)),s.length&&(s.height(e.height()-parseInt(n.css("padding-top"))-parseInt(n.css("padding-bottom"))-i.outerHeight(!0)),eltdf.modules.common.eltdfInitPerfectScrollbar().init(s));else{var d=a.find(".eltdf-grid-row");d.height(e.height()),eltdf.modules.common.eltdfInitPerfectScrollbar().init(d)}}()):(alert("An error occurred"),n.addClass("eltdf-hide"))}})}function d(){o(".eltdf-lms-complete-item-form").on("submit",function(e){e.preventDefault();var a=o(this),l=o(this).find("input[name$='academist_lms_item_id']").val(),t={action:"academist_lms_complete_item",post:a.serialize()};o.ajax({type:"POST",data:t,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t=JSON.parse(e);"success"===t.status&&(a.replaceWith(t.data.content_message),o(".eltdf-section-element.eltdf-section-lesson").each(function(){o(this).data("section-element-id")===l&&o(this).addClass("eltdf-item-completed")}))}})})}function r(){var e=o(".eltdf-lms-search-holder");e.length&&e.each(function(){var t,e=o(this),a=e.find(".eltdf-lms-search-field"),l=e.find(".eltdf-lms-search-results"),s=e.find(".eltdf-search-loading"),n=e.find(".eltdf-search-icon");s.addClass("eltdf-hidden"),a.on("keyup paste",function(e){var a=o(this);a.attr("autocomplete","off"),s.removeClass("eltdf-hidden"),n.addClass("eltdf-hidden"),clearTimeout(t),t=setTimeout(function(){var e=a.val();if(e.length<3)l.html(""),l.fadeOut(),s.addClass("eltdf-hidden"),n.removeClass("eltdf-hidden");else{var t={action:"academist_lms_search_courses",term:e};o.ajax({type:"POST",data:t,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t=JSON.parse(e);"success"===t.status&&(s.addClass("eltdf-hidden"),n.removeClass("eltdf-hidden"),l.html(t.data.html),l.fadeIn())},error:function(e,t,a){console.log("Status: "+t),console.log("Error: "+a),s.addClass("eltdf-hidden"),n.removeClass("eltdf-hidden"),l.fadeOut()}})}},500)}),a.on("focusout",function(){s.addClass("eltdf-hidden"),n.removeClass("eltdf-hidden"),l.fadeOut()})})}(eltdf.modules.course=e).eltdfOnDocumentReady=t,o(document).ready(t)}(jQuery),function(r){"use strict";var e={};function t(){u(),m(),p(),c()}function a(){}function l(){}function s(){}function c(){var e=r(".eltdf-question-answers"),t=e.find("input[type=radio]"),a=e.find("input[type=checkbox]"),l=e.find("input[type=text]"),s=r(".eltdf-lms-question-actions-check-form"),n=r(".eltdf-lms-question-next-form"),i=r(".eltdf-lms-question-prev-form"),d=r(".eltdf-lms-finish-quiz-form");t.change(function(){s.find("input[name=academist_lms_question_answer]").val(this.value),n.find("input[name=academist_lms_question_answer]").val(this.value),i.find("input[name=academist_lms_question_answer]").val(this.value),d.find("input[name=academist_lms_question_answer]").val(this.value)}),a.on("change",function(){var e=r("input[type=checkbox]:checked").map(function(){return this.value}).get().join(",");s.find("input[name=academist_lms_question_answer]").val(e),n.find("input[name=academist_lms_question_answer]").val(e),i.find("input[name=academist_lms_question_answer]").val(e),d.find("input[name=academist_lms_question_answer]").val(e)}).change(),l.on("change paste keyup",function(){s.find("input[name=academist_lms_question_answer]").val(r(this).val()),n.find("input[name=academist_lms_question_answer]").val(r(this).val()),i.find("input[name=academist_lms_question_answer]").val(r(this).val()),d.find("input[name=academist_lms_question_answer]").val(r(this).val())})}function f(l,e,t,a){var s=l.find("input[type=radio]"),n=l.find("input[type=checkbox]"),i=l.find("input[type=text]");"yes"===a&&(l.find("input").prop("disabled",!0),s.length&&(r.each(e,function(e,t){var a=l.find("input[type=radio][value="+e+"]");!0===t?a.parent().addClass("eltdf-true"):a.parent().addClass("eltdf-false")}),r.each(t,function(e,t){var a=l.find("input[type=radio][value="+e+"]");!0===t&&a.parent().addClass("eltdf-base-true")})),n.length&&(r.each(e,function(e,t){var a=l.find("input[type=checkbox][value="+e+"]");!0===t?a.parent().addClass("eltdf-true"):a.parent().addClass("eltdf-false")}),r.each(t,function(e,t){var a=l.find("input[type=checkbox][value="+e+"]");!0===t&&a.parent().addClass("eltdf-base-true")})),i.length&&(e?i.parent().addClass("eltdf-true"):(i.parent().addClass("eltdf-false"),i.parent().append('<p class="eltdf-base-answer">'+t+"</p>"))))}function u(){var s=r(".eltdf-question-answer-wrapper");r(".eltdf-lms-question-actions-hint-form").on("submit",function(e){e.preventDefault();var t=r(this),a=t.serialize(),l={action:"academist_lms_check_question_hint",post:a+="&academist_lms_time_remaining="+r("input[name=academist_lms_time_remaining]").val()};t.find("input").prop("disabled",!0),r.ajax({type:"POST",data:l,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t=JSON.parse(e);"success"===t.status&&s.append(t.data.html)}})})}function m(){var n=r(".eltdf-question-answer-wrapper");r(".eltdf-lms-question-actions-check-form").on("submit",function(e){e.preventDefault();var t=r(this),a=t.serialize(),l={action:"academist_lms_check_question_answer",post:a+="&academist_lms_time_remaining="+r("input[name=academist_lms_time_remaining]").val()};t.find("input").prop("disabled",!0),r.ajax({type:"POST",data:l,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t=JSON.parse(e);if("success"===t.status){var a=t.data.result,l=t.data.original_result,s=t.data.answer_checked;f(n,a,l,s)}}})})}function p(){var o=r(".eltdf-quiz-question-wrapper");r(".eltdf-lms-question-prev-form, .eltdf-lms-question-next-form").on("submit",function(e){e.preventDefault();var t=r(this).serialize(),a=r("input[name=academist_lms_time_remaining]"),l=r("input[name=academist_lms_retake_id]");t+="&academist_lms_time_remaining="+a.val();var s={action:"academist_lms_change_question",post:t+="&academist_lms_retake_id="+l.val()};r.ajax({type:"POST",data:s,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t,a,l=JSON.parse(e);if("success"===l.status){o.html(l.data.html);var s=r(".eltdf-question-answer-wrapper"),n=l.data.result,i=l.data.original_result,d=l.data.answer_checked;u(),m(),p(),c(),a=l.data.question_position,r(".eltdf-question-number-completed").text(a),t=l.data.question_id,r(".eltdf-lms-finish-quiz-form").find("input[name=academist_lms_question_id]").val(t),f(s,n,i,d),eltdf.modules.quiz.eltdfFinishQuiz()}}})})}(eltdf.modules.question=e).eltdfQuestionHint=u,e.eltdfQuestionCheck=m,e.eltdfQuestionChange=p,e.eltdfQuestionAnswerChange=c,e.eltdfValidateAnswer=f,e.eltdfQuestionSave=function(){r(window).unload(function(){var e=r(".eltdf-lms-question-next-form");e.length||(e=r("eltdf-lms-question-prev-form"));var t=e.serialize(),a=r("input[name=academist_lms_time_remaining]"),l=r("input[name=academist_lms_retake_id]");t+="&academist_lms_time_remaining="+a.val(),t+="&academist_lms_retake_id="+l.val(),console.log(t);var s={action:"academist_lms_save_question",post:t};r.ajax({type:"POST",data:s,async:!1,url:eltdfGlobalVars.vars.eltdfAjaxUrl})})},e.eltdfOnDocumentReady=t,e.eltdfOnWindowLoad=a,e.eltdfOnWindowResize=l,e.eltdfOnWindowScroll=s,r(document).ready(t),r(window).load(a),r(window).resize(l),r(window).scroll(s)}(jQuery),function(h){"use strict";var e={};function t(){n(),v()}function n(){var m=h(".eltdf-quiz-single-holder"),p=h(".eltdf-course-item-preloader");h(".eltdf-lms-start-quiz-form").on("submit",function(e){e.preventDefault(),p.removeClass("eltdf-hide");var t={action:"academist_lms_start_quiz",post:h(this).serialize()};h.ajax({type:"POST",data:t,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t,a,l,s,r,c,n,i=JSON.parse(e);if("success"===i.status){var d=i.data.question_id,o=i.data.quiz_id,f=i.data.course_id,u=i.data.retake;t=d,a=o,l=f,s=u,r=m,c=h(".eltdf-course-item-preloader"),n={action:"academist_lms_load_first_question",question_id:t,quiz_id:a,course_id:l,retake:s},h.ajax({type:"POST",data:n,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t=JSON.parse(e);if("success"===t.status){r.html(t.data.html),eltdf.modules.question.eltdfQuestionHint(),eltdf.modules.question.eltdfQuestionCheck(),eltdf.modules.question.eltdfQuestionChange(),eltdf.modules.question.eltdfQuestionAnswerChange(),v();var a=h(".eltdf-question-answer-wrapper"),l=t.data.result,s=t.data.original_result,n=t.data.answer_checked;eltdf.modules.question.eltdfValidateAnswer(a,l,s,n);var d=h("#eltdf-quiz-timer"),i=d.data("duration"),o=h("input[name=academist_lms_time_remaining]");d.vTimer("start",{duration:i}).on("update",function(e,t){var a=t,l=a%60;l=l<10?"0"+l:l;var s=Math.floor(a/60)%60;s=s<10?"0"+s:s;var n=Math.floor(a/60/60),i=(n=n<10?"0"+n:n)+":"+s+":"+l;d.text(i),o.val(t)}).on("complete",function(){h(".eltdf-lms-finish-quiz-form").submit()}),c.addClass("eltdf-hide")}else alert("An error occurred"),c.addClass("eltdf-hide")}}),eltdf.modules.question.eltdfQuestionSave()}else alert("An error occurred"),p.addClass("eltdf-hide")}})})}function v(){var l=h(".eltdf-quiz-single-holder"),s=h(".eltdf-course-item-preloader");h(".eltdf-lms-finish-quiz-form").on("submit",function(e){e.preventDefault();var t=h(this).serialize(),a={action:"academist_lms_finish_quiz",post:t+="&academist_lms_time_remaining="+h("input[name=academist_lms_time_remaining]").val()};h.ajax({type:"POST",data:a,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){var t=JSON.parse(e);"success"===t.status?(l.replaceWith(t.data.html),n()):alert("An error occurred"),s.addClass("eltdf-hide")}})})}(eltdf.modules.quiz=e).eltdfStartQuiz=n,e.eltdfFinishQuiz=v,e.eltdfOnDocumentReady=t,h(document).ready(t)}(jQuery),function(h){"use strict";var e={};function t(){var e;(e=h(".eltdf-course-list-holder")).length&&e.each(function(){var s,a,e,l,t=h(this);t.hasClass("eltdf-cl-has-filter")&&(e=(a=t).find(".eltdf-cl-filter-holder .eltdf-course-layout-filter"),l=e.find("span"),0<e.length&&l.on("click",function(){l.removeClass("eltdf-active");var e=h(this);e.addClass("eltdf-active");var t=e.data("type");a.removeClass("eltdf-cl-gallery eltdf-cl-simple"),a.addClass("eltdf-cl-"+t)}),(s=t).find(".eltdf-cl-filter-holder .eltdf-course-order-filter").select2({minimumResultsForSearch:-1}).on("select2:select",function(e){var t=e.params.data.element.dataset,a=t.type,l=t.order;s.data("orderby",a),s.data("order",l),s.data("next-page",1),n().getMainPagFunction(s,1)}))})}function a(){var e;(e=h(".eltdf-cl-has-filter-category .eltdf-cl-filter-holder")).length&&e.each(function(){var s=h(this),n=s.closest(".eltdf-course-list-holder"),i=n.find(".eltdf-cl-inner"),d=!!n.hasClass("eltdf-cl-pag-load-more");s.find(".eltdf-cl-filter:first").addClass("eltdf-cl-current"),n.hasClass("eltdf-cl-gallery")&&i.isotope(),s.find(".eltdf-cl-filter").on("click",function(){var e=h(this),t=e.attr("data-filter"),a=t.length?t.substring(1):"",l=!!i.children().hasClass(a);e.parent().children(".eltdf-cl-filter").removeClass("eltdf-cl-current"),e.addClass("eltdf-cl-current"),d&&!l&&t.length?eltdfInitLoadMoreItemsCourseFilter(n,t,a):(t=0===t.length?"*":t,s.parent().children(".eltdf-cl-inner").isotope({filter:t}),eltdf.modules.common.eltdfInitParallax())})}),i(),n().init()}function l(){n().scroll()}function n(){var e=h(".eltdf-course-list-holder"),s=function(e){var t=e.outerHeight(),a=e.offset().top,l=t+a-eltdfGlobalVars.vars.eltdfAddForAdminBar;console.log("a"+t),console.log("b"+a),console.log("c"+l),console.log("d"+eltdf.scroll+eltdf.windowHeight),!e.hasClass("eltdf-cl-infinite-scroll-started")&&eltdf.scroll+eltdf.windowHeight>l&&n(e)},n=function(n,i){var d,o,r=n.find(".eltdf-cl-inner");void 0!==n.data("max-num-pages")&&!1!==n.data("max-num-pages")&&(o=n.data("max-num-pages")),n.hasClass("eltdf-cl-pag-standard")&&n.data("next-page",i),n.hasClass("eltdf-cl-pag-infinite-scroll")&&n.addClass("eltdf-cl-infinite-scroll-started");var e=eltdf.modules.common.getLoadMoreData(n),c=n.find(".eltdf-cl-loading");if((d=e.nextPage)<=o||0===o){n.hasClass("eltdf-cl-pag-standard")?(c.addClass("eltdf-showing eltdf-standard-pag-trigger"),n.addClass("eltdf-cl-pag-standard-animate")):c.addClass("eltdf-showing");var t=eltdf.modules.common.setLoadMoreAjaxData(e,"academist_lms_course_ajax_load_more");h.ajax({type:"POST",data:t,url:eltdfGlobalVars.vars.eltdfAjaxUrl,success:function(e){n.hasClass("eltdf-cl-pag-standard")||d++,n.data("next-page",d);var t=h.parseJSON(e),a=t.html,l=t.minValue,s=t.maxValue;n.hasClass("eltdf-cl-pag-standard")||1===i?(f(n,o,d),m(n,r,c,a),u(n,l,s)):(p(r,c,a),u(n,1,s)),n.hasClass("eltdf-cl-infinite-scroll-started")&&n.removeClass("eltdf-cl-infinite-scroll-started")}})}1===i&&n.find(".eltdf-cl-load-more-holder").show(),d===o&&n.find(".eltdf-cl-load-more-holder").hide()},f=function(e,t,a){var l=e.find(".eltdf-cl-standard-pagination"),s=l.find("li.eltdf-cl-pag-number"),n=l.find("li.eltdf-cl-pag-prev a"),i=l.find("li.eltdf-cl-pag-next a");s.removeClass("eltdf-cl-pag-active"),s.eq(a-1).addClass("eltdf-cl-pag-active"),n.data("paged",a-1),i.data("paged",a+1),1<a?n.css({opacity:"1"}):n.css({opacity:"0"}),a===t?i.css({opacity:"0"}):i.css({opacity:"1"})},u=function(e,t,a){var l=e.find(".eltdf-course-items-counter"),s=l.find(".counter-min-value"),n=l.find(".counter-max-value");s.text(t),n.text(a)},m=function(e,t,a,l){a.removeClass("eltdf-showing eltdf-standard-pag-trigger"),t.waitForImages(function(){e.removeClass("eltdf-cl-pag-standard-animate"),t.html(l),t.css("height","auto"),i(),eltdf.modules.common.eltdfInitParallax()})},p=function(e,t,a){t.removeClass("eltdf-showing"),e.waitForImages(function(){e.append(a),i(),eltdf.modules.common.eltdfInitParallax()})};return{init:function(){e.length&&e.each(function(){var l,e,t,a=h(this);a.hasClass("eltdf-cl-pag-standard")&&(e=(l=a).find(".eltdf-cl-standard-pagination li")).length&&e.each(function(){var t=h(this).children("a"),a=1;t.on("click",function(e){e.preventDefault(),e.stopPropagation(),void 0!==t.data("paged")&&!1!==t.data("paged")&&(a=t.data("paged")),n(l,a)})}),a.hasClass("eltdf-cl-pag-load-more")&&(t=a).find(".eltdf-cl-load-more a").on("click",function(e){e.preventDefault(),e.stopPropagation(),n(t)}),a.hasClass("eltdf-cl-pag-infinite-scroll")&&s(a)})},scroll:function(){e.length&&e.each(function(){var e=h(this);e.hasClass("eltdf-cl-pag-infinite-scroll")&&s(e)})},getMainPagFunction:function(e,t){n(e,t)}}}function i(){var e=h(".eltdf-course-list-holder.eltdf-cl-has-animation");e.length&&e.each(function(){h(this).children(".eltdf-cl-inner").children("article").each(function(e){var t=h(this);t.appear(function(){t.addClass("eltdf-item-show"),setTimeout(function(){t.addClass("eltdf-item-shown")},1e3)},{accX:0,accY:0})})})}(eltdf.modules.courseList=e).eltdfOnDocumentReady=t,e.eltdfOnWindowLoad=a,e.eltdfOnWindowScroll=l,h(document).ready(t),h(window).load(a),h(window).scroll(l)}(jQuery),function(a){"use strict";var e={};function t(){var e;(e=a(".eltdf-advanced-course-search")).length&&e.each(function(){var e=a(this),t=e.find("select");t.length&&t.select2({minimumResultsForSearch:-1})})}(eltdf.modules.courseSearch=e).eltdfOnDocumentReady=t,a(document).ready(t)}(jQuery);